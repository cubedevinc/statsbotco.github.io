{"version":3,"sources":["listItems.js","App.js","auth/components/SectionRoute.js","components/Charts/helpers.js","components/Charts/Table.js","components/Charts/ResponsiveContainer.js","components/Charts/Pie.js","components/Charts/Bar.js","components/Charts/index.js","components/Charts/Line.js","components/WindowTitle.js","dashboard/queriesList.js","dashboard/index.js","components/QueryBuilder/EventsSelect.js","components/QueryBuilder/DimensionSelect.js","components/QueryBuilder/VisualizationToggle.js","components/QueryBuilder/GranularitySelect.js","components/DateRangeSelect.js","components/QueryBuilder/SaveButton.js","components/QueryBuilder/withQueryBuilder.js","components/QueryBuilder/index.js","reports/index.js","funnels/Funnel.js","cubejsClient.js","funnels/CompletionRate.js","funnels/FunnelsExplorer.js","funnels/index.js","about/index.js","serviceWorker.js","index.js"],"names":["withStyles","theme","link","textDecoration","_ref","classes","react_default","a","createElement","Link","to","className","ListItem_default","button","ListItemIcon_default","Dashboard_default","ListItemText_default","primary","BarChart_default","FilterList_default","Help_default","App","state","open","handleDrawerOpen","window","snowplow","_this","setState","handleDrawerClose","_this$props","this","props","title","children","Fragment","root","CssBaseline_default","AppBar_default","position","classNames","appBar","appBarShift","Toolbar_default","disableGutters","toolbar","IconButton_default","color","aria-label","onClick","menuButton","menuButtonHidden","Menu_default","Typography_default","component","variant","noWrap","Drawer_default","paper","drawerPaper","drawerPaperClose","toolbarIcon","ChevronLeft_default","Divider_default","List_default","listItems","content","appBarSpacer","GithubCorner_default","svgStyle","zIndex","size","href","process","React","Component","defaultProps","display","paddingRight","Object","objectSpread","alignItems","justifyContent","padding","mixins","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","marginLeft","width","concat","enteringScreen","marginRight","flexGrow","whiteSpace","defineProperty","overflowX","spacing","unit","breakpoints","up","height","overflow","h5","marginBottom","SectionRoute","objectWithoutProperties","src_App","Route","formatters","time:null","val","moment","format","time:month","time:week","time:day","time:hour","number","numeral","undefined","string","key","data","formatter","map","i","resolveFormat","resultSet","query","timeDimensions","granularity","extractSeries","keys","chartPivot","filter","s","includes","humanName","annotation","loadResponse","measures","dimensions","shortTitle","length","split","COLORS","Paper_default","Table_default","table","TableHead_default","TableRow_default","TableCell_default","align","TableBody_default","pivot","rows","xValues","r","yValuesArray","Charts_ResponsiveContainer","component_ResponsiveContainer","dimensionOnX","anyDimensions","piePivot","x","y","fillMissingDates","findFormat","dimension","type","dataKey","td","customShape","shape","cloneElement","cubejsClient","cubejs","apiUrl","styles","chartContainer","minHeight","supportedTypes","line","ResponsiveContainer_default","LineChart_default","XAxis_default","minTickGap","YAxis_default","CartesianGrid_default","strokeDasharray","Tooltip_default","Legend_default","Line_default","name","stroke","TableChart","pie","PieChart","Pie","isAnimationActive","nameKey","fill","e","index","Cell","component_Legend","component_Tooltip","bar","label","margin","chart_BarChart","cartesian_CartesianGrid","cartesian_XAxis","cartesian_YAxis","Bar","stackId","Loading","Grid_default","container","justify","CircularProgress_default","Error","error","Error_default","fontSize","message","Chart","_ref2","options","Card_default","CardHeader_default","CardContent_default","cubejs_react","cubejsApi","render","_ref3","loadingState","rendetChart","Charts_Error","Charts_Loading","defaultprops","WindowTitle","Helmet","dateRange","subtract","queriesList","limit","cardContainerStyles","gridColumnGap","gridTemplateColumns","rowGap","components_WindowTitle","queries","Charts","assign","value","default","defaultEvent","find","withEventType","eventType","handleChange","id","onChangeProp","customStyles","provided","EventsSelect","_this2","onChange","defaultValue","clearable","Select_default","disableUnderline","event","newType","target","refs","select","MenuItem_default","clearButton","Clear_default","react_select_esm","ref","action","right","top","DimensionSelect","isClearable","toggleContainer","ToggleButtonGroup_default","exclusive","ToggleButton_default","ShowChart_default","PieChart_default","defaultGranularity","GranularitySelect","generateDateRange","start","end","_moment","_moment2","apply","toConsumableArray","defaultDateRange","DateRangeSelect","SaveButton","disabled","Button_default","style","alert","Store","initialData","classCallCheck","newData","reducer","eventSelectsCloned","eventSelects","push","Math","max","generateEventSelectId","_resolveGranularity","visualizationType","memorizedGranularity","resolveGranularity","newMeasures","withQueryBuilder","WrappedComponent","_Component","withQueryBuilderComponent","possibleConstructorReturn","getPrototypeOf","call","store","inherits","createClass","args","change","forceUpdate","bind","QueryBuilder","item","xs","QueryBuilder_EventsSelect","canRemoveEventsSelects","canAddEventsSelects","Fab_default","fab","Add_default","QueryBuilder_SaveButton","dimensionSelectContainer","QueryBuilder_DimensionSelect","granularitySelectContainer","components_DateRangeSelect","QueryBuilder_GranularitySelect","QueryBuilder_VisualizationToggle","values","buildQuery","paddingTop","flexWrap","formControl","minWidth","components_QueryBuilder","getPath","baseY","baseX","BarwithSteps","showStep","conversion","round","Rectangle","d","textAnchor","dominantBaseline","Funnel","Funnel_BarwithSteps","CompletionRate","rawData","last","Number","first","calculateCompletionRate","FunnelsExplorer","funnelId","placeholder","Edit_default","icon","funnels_CompletionRate","funnels_Funnel","FunnelsPage","objectDestructuringEmpty","funnels_FunnelsExplorer","CardMedia_default","image","Boolean","location","hostname","match","history","createHistory","listen","setTimeout","ReactDOM","Router","basename","Switch","components_SectionRoute","exact","path","DashboardPage","ReportsPage","AboutPage","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3470614b.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom'\n\nimport { withStyles } from '@material-ui/core/styles';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport HelpIcon from '@material-ui/icons/Help';\n\nconst styles = theme => ({\n  link: {\n    textDecoration: \"none\",\n  }\n})\n\nconst mainListItems = ({ classes }) => (\n  <div>\n    <Link to=\"/\" className={classes.link}>\n      <ListItem button>\n        <ListItemIcon>\n          <DashboardIcon />\n        </ListItemIcon>\n        <ListItemText primary=\"Dashboard\" />\n      </ListItem>\n    </Link>\n    <Link to=\"/reports\" className={classes.link}>\n      <ListItem button>\n        <ListItemIcon>\n          <BarChartIcon />\n        </ListItemIcon>\n        <ListItemText primary=\"Reports\" />\n      </ListItem>\n    </Link>\n    <Link to=\"/funnels\" className={classes.link}>\n      <ListItem button>\n        <ListItemIcon>\n          <FilterListIcon />\n        </ListItemIcon>\n        <ListItemText primary=\"Funnels\" />\n      </ListItem>\n    </Link>\n    <Link to=\"/about\" className={classes.link}>\n      <ListItem button>\n        <ListItemIcon>\n          <HelpIcon />\n        </ListItemIcon>\n        <ListItemText primary=\"About\" />\n      </ListItem>\n    </Link>\n  </div>\n);\n\nexport default withStyles(styles)(mainListItems);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport GithubCorner from 'react-github-corner';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ListItems from './listItems';\n\nconst drawerWidth = 240;\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n  },\n  toolbar: {\n    paddingRight: 24,\n  },\n  toolbarIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginLeft: 12,\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: 'none',\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: 'hidden',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing.unit * 7,\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing.unit * 9,\n    },\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing.unit * 3,\n    height: '100vh',\n    overflow: 'auto',\n  },\n  h5: {\n    marginBottom: theme.spacing.unit * 2,\n  },\n});\n\nclass App extends React.Component {\n  state = {\n    open: false,\n  };\n\n  handleDrawerOpen = () => {\n    window.snowplow('trackStructEvent', 'Navigation', 'Menu Opened');\n    this.setState({ open: true });\n  };\n\n  handleDrawerClose = () => {\n    window.snowplow('trackStructEvent', 'Navigation', 'Menu Closed');\n    this.setState({ open: false });\n  };\n\n  render() {\n    const { classes, title, children } = this.props;\n\n    return (\n      <>\n        <div className={classes.root}>\n          <CssBaseline />\n          <AppBar\n            position=\"absolute\"\n            className={classNames(classes.appBar, this.state.open && classes.appBarShift)}\n          >\n            <Toolbar disableGutters={!this.state.open} className={classes.toolbar}>\n              <IconButton\n                color=\"inherit\"\n                aria-label=\"Open drawer\"\n                onClick={this.handleDrawerOpen}\n                className={classNames(\n                  classes.menuButton,\n                  this.state.open && classes.menuButtonHidden,\n                )}\n              >\n                <MenuIcon />\n              </IconButton>\n              <Typography\n                component=\"h1\"\n                variant=\"h6\"\n                color=\"inherit\"\n                noWrap\n                className={classes.title}\n              >\n                { title }\n              </Typography>\n            </Toolbar>\n          </AppBar>\n          <Drawer\n            variant=\"permanent\"\n            classes={{\n              paper: classNames(classes.drawerPaper, !this.state.open && classes.drawerPaperClose),\n            }}\n            open={this.state.open}\n          >\n            <div className={classes.toolbarIcon}>\n              <IconButton onClick={this.handleDrawerClose}>\n                <ChevronLeftIcon />\n              </IconButton>\n            </div>\n            <Divider />\n            <List><ListItems /></List>\n          </Drawer>\n          <main className={classes.content}>\n            <div className={classes.appBarSpacer} />\n            { children }\n          </main>\n        </div>\n        <GithubCorner\n          svgStyle={{ zIndex: 1202 }}\n          size={120}\n          href={process.env.REACT_APP_REPO_URL} />\n      </>\n    );\n  }\n}\n\nApp.propTypes = {\n  classes: PropTypes.object.isRequired,\n  title: PropTypes.string\n};\n\nApp.defaultProps = {\n  title: null\n};\n\nexport default withStyles(styles)(App);\n","import React from 'react';\nimport { Route } from \"react-router-dom\";\nimport App from \"../../App\";\n\nconst SectionRoute = ({ title, ...props }) => (\n  <App title={title}>\n    <Route {...props} />\n  </App>\n)\n\nexport default SectionRoute;\n","import moment from 'moment';\nimport numeral from 'numeral';\n\nexport const formatters = {\n  \"time:null\": (val) => moment(val).format(\"MMM DD\"),\n  \"time:month\": (val) => moment(val).format(\"MMM DD\"),\n  \"time:week\": (val) => moment(val).format(\"MMM DD\"),\n  \"time:day\": (val) => moment(val).format(\"MMM DD\"),\n  \"time:hour\": (val) => moment(val).format(\"MMM DD, HH:mm\"),\n  number: (val) => numeral(val).format('0,0'),\n  undefined: (val) => val,\n  string: (val) => val\n}\n\nexport const format = (key, data, formatter) => (\n  data.map(i => {\n    i[key] = formatters[formatter](i[key]);\n    return i;\n  })\n);\n\nexport const resolveFormat = (resultSet) => {\n  return `time:${resultSet.query().timeDimensions[0].granularity}`\n}\n\nexport const extractSeries= (resultSet) => {\n  return Object.keys(resultSet.chartPivot()[0])\n  .filter((s) => ![\"category\", \"x\"].includes(s))\n}\n\nexport const humanName = (resultSet, key) => {\n  const annotation = resultSet.loadResponse.annotation.measures[key] ||\n                     resultSet.loadResponse.annotation.dimensions[key]\n  if (annotation && annotation.shortTitle) {\n    return annotation.shortTitle\n  }\n\n\n  if (resultSet.query().measures.length === 1 && key.split(\",\").length > 1) {\n    return key.split(\",\")[0]\n  }\n\n  return key\n}\n\n// 99% per https://github.com/recharts/recharts/issues/172\nexport const RECHARTS_RESPONSIVE_WIDTH = \"99%\";\n\nexport const PRIMARY_COLOR = \"#7DB3FF\";\n\nexport const COLORS = [\n  PRIMARY_COLOR,\n  \"#49457B\",\n  \"#FF7C78\",\n  \"#FED3D0\",\n  \"#6F76D9\",\n  \"#9ADFB4\",\n  \"#2E7987\"\n];\n\nexport const DASHBOARD_CHART_MIN_HEIGHT = 320;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nconst styles = {\n  root: {\n    width: '100%',\n    overflowX: 'auto',\n  }\n};\n\nfunction TableChart(props) {\n  const { classes, resultSet } = props;\n\n  return (\n    <Paper className={classes.root}>\n      <Table className={classes.table}>\n        <TableHead>\n          <TableRow>\n            <TableCell>Event</TableCell>\n            <TableCell align=\"right\">Count</TableCell>\n            <TableCell align=\"right\">Uniq Count</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {resultSet.pivot().map((rows, i) => (\n            <TableRow key={i}>\n              { rows.xValues.map((r, i) => (\n                <TableCell key={i}  component=\"th\"> {r} </TableCell>\n              ))}\n              { rows.yValuesArray.map((r, i) => (\n                <TableCell key={i} align=\"right\">{r[1]}</TableCell>\n              ))}\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </Paper>\n  );\n}\n\nTableChart.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(TableChart);\n","import React from 'react';\nimport { ResponsiveContainer } from 'recharts';\n\nimport {\n  DASHBOARD_CHART_MIN_HEIGHT,\n  RECHARTS_RESPONSIVE_WIDTH\n} from './helpers.js';\n\nexport default ({ children }) => (\n  <ResponsiveContainer width={RECHARTS_RESPONSIVE_WIDTH} height={DASHBOARD_CHART_MIN_HEIGHT}>\n    { children }\n  </ResponsiveContainer>\n)\n","import React from 'react';\n\nimport { PieChart, Pie, Tooltip, Legend, Cell } from 'recharts';\n\nimport { formatters, format, COLORS } from './helpers.js';\nimport ResponsiveContainer from './ResponsiveContainer.js';\n\nconst dimensionOnX = (resultSet) => (\n  resultSet.query().dimensions[0]\n)\n\nconst anyDimensions = (resultSet) => (\n  resultSet.query().dimensions.length > 0\n)\n\nconst piePivot = (resultSet) => {\n  if (anyDimensions(resultSet)) {\n    return resultSet.chartPivot({\n      x: [dimensionOnX(resultSet)],\n      y: [\"measures\"],\n      fillMissingDates: false\n    })\n  } else {\n    return resultSet.chartPivot({ x: ['measures'], y: [] })\n  }\n}\n\nconst findFormat = (resultSet, dimension) => {\n  if (anyDimensions(resultSet)) {\n    return resultSet.loadResponse.annotation.dimensions[dimension].type\n  }\n  return undefined\n}\n\nconst dataKey = (resultSet) => {\n  if (anyDimensions(resultSet)) {\n    return Object.keys(resultSet.loadResponse.annotation.measures)[0]\n  }\n\n  return \"\"\n}\n\nexport default ({ resultSet }) => {\n  return (\n  <ResponsiveContainer>\n    <PieChart>\n      <Pie\n        isAnimationActive={false}\n        data={format(\"x\", piePivot(resultSet), findFormat(resultSet, dimensionOnX(resultSet)))}\n        nameKey=\"x\"\n        dataKey={dataKey(resultSet)}\n        fill=\"#8884d8\"\n      >\n      {\n        resultSet.chartPivot().map((e, index) =>\n          <Cell key={index} fill={COLORS[index % COLORS.length]}/>\n        )\n      }\n      </Pie>\n      <Legend />\n      <Tooltip formatter={formatters.number} />\n    </PieChart>\n  </ResponsiveContainer>\n  )\n}\n","import React from 'react';\n\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend\n} from 'recharts';\n\nimport {\n  format,\n  COLORS,\n  extractSeries,\n  humanName,\n} from './helpers.js';\nimport ResponsiveContainer from './ResponsiveContainer.js';\n\n// for default chart pivot config\nconst resolveFormat = (resultSet) => {\n  const query = resultSet.loadResponse.query;\n  const annotation = resultSet.loadResponse.annotation;\n  const timeDimensions = (query.timeDimensions || []).filter(td => !!td.granularity);\n  if (timeDimensions.length) {\n    return `time:${timeDimensions[0].granularity}`\n  } else if (query.dimensions.length) {\n    return annotation.dimensions[query.dimensions[0]].type\n  } else {\n    return undefined\n  }\n}\n\nconst customShape = (shape, resultSet) => {\n  if (shape) {\n    return React.cloneElement(shape, { resultSet: resultSet })\n  }\n\n  return null\n}\n\nexport default ({ resultSet, label, margin, shape }) => {\n  return (\n  <ResponsiveContainer>\n    <BarChart margin={margin} data={format(\"x\", resultSet.chartPivot(), resolveFormat(resultSet))}>\n      <CartesianGrid strokeDasharray=\"3 3\"/>\n      <XAxis dataKey=\"x\" minTickGap={20}/>\n      <YAxis/>\n      <Tooltip/>\n      {extractSeries(resultSet).map((s, i) =>\n        <Bar label={label} key={i} dataKey={s} shape={customShape(shape, resultSet)} name={humanName(resultSet, s)} stackId=\"a\" fill={COLORS[i % COLORS.length]} />\n      )}\n      <Legend />\n    </BarChart>\n  </ResponsiveContainer>\n  )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport cubejs from '@cubejs-client/core';\nimport { QueryRenderer } from '@cubejs-client/react';\n\nimport LineChart from './Line';\nimport TableChart from './Table';\nimport PieChart from './Pie';\nimport BarChart from './Bar';\nimport { DASHBOARD_CHART_MIN_HEIGHT } from './helpers.js';\n\nconst cubejsClient = cubejs(process.env.REACT_APP_CUBEJS_API_KEY,\n  { apiUrl: process.env.REACT_APP_CUBEJS_API_URL }\n);\n\nconst styles = ({\n  chartContainer: {\n    minHeight: DASHBOARD_CHART_MIN_HEIGHT\n  }\n});\n\nconst supportedTypes = {\n  line: LineChart,\n  table: TableChart,\n  pie: PieChart,\n  bar: BarChart\n}\n\nconst rendetChart = (type, props) => {\n  const Component = supportedTypes[type];\n  return <Component {...props} />;\n}\n\nconst Loading = () => (\n  <Grid container justify=\"center\">\n    <CircularProgress />\n  </Grid>\n)\n\nconst Error = ({ error }) => (\n  <>\n    <Grid container justify=\"center\">\n      <ErrorIcon color=\"error\" fontSize=\"large\" />\n    </Grid>\n    <Grid container justify=\"center\">\n      <Typography align='center' color='error' variant='body1'>\n        {error.message}\n      </Typography>\n    </Grid>\n  </>\n)\n\nconst Chart = ({ title, query, type, classes, options }) => (\n  <Card>\n    <CardHeader title={title} />\n    <CardContent>\n      <div className={classes.chartContainer}>\n        <QueryRenderer\n          cubejsApi={cubejsClient}\n          query={query}\n          render={({ resultSet, loadingState, error }) => {\n            if (resultSet) {\n              return rendetChart(type, { resultSet, ...options });\n            }\n\n            if (error) {\n              return <Error error={error} />\n            }\n\n            return <Loading loadingState={loadingState} />\n          }}\n        />\n      </div>\n    </CardContent>\n  </Card>\n);\n\nChart.propTypes = {\n  title: PropTypes.string,\n  type: PropTypes.oneOf(Object.keys(supportedTypes)).isRequired,\n  query: PropTypes.object,\n  options: PropTypes.object\n}\n\nChart.defaultprops = {\n  title: null\n}\n\nexport default withStyles(styles)(Chart);\n","import React from 'react';\n\nimport ResponsiveContainer from 'recharts/lib/component/ResponsiveContainer';\nimport LineChart from 'recharts/lib/chart/LineChart';\nimport Line from 'recharts/lib/cartesian/Line';\nimport XAxis from 'recharts/lib/cartesian/XAxis';\nimport YAxis from 'recharts/lib/cartesian/YAxis';\nimport CartesianGrid from 'recharts/lib/cartesian/CartesianGrid';\nimport Tooltip from 'recharts/lib/component/Tooltip';\nimport Legend from 'recharts/lib/component/Legend';\n\nimport {\n  format,\n  DASHBOARD_CHART_MIN_HEIGHT,\n  COLORS,\n  extractSeries,\n  humanName,\n  resolveFormat,\n  RECHARTS_RESPONSIVE_WIDTH\n} from './helpers.js';\n\nexport default ({ resultSet }) => (\n  <ResponsiveContainer width={RECHARTS_RESPONSIVE_WIDTH} height={DASHBOARD_CHART_MIN_HEIGHT}>\n    <LineChart data={format(\"x\", resultSet.chartPivot(), resolveFormat(resultSet))}>\n      <XAxis dataKey=\"x\" minTickGap={20}/>\n      <YAxis />\n      <CartesianGrid strokeDasharray=\"3 3\" />\n      <Tooltip />\n      <Legend />\n      {extractSeries(resultSet).map((s, i) =>\n        <Line key={i} dataKey={s} name={humanName(resultSet, s)} stroke={COLORS[i % COLORS.length]} />\n      )}\n    </LineChart>\n  </ResponsiveContainer>\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Helmet } from \"react-helmet\";\n\nconst WindowTitle = ({ title }) => (\n  <Helmet>\n    <title>{ title }</title>\n  </Helmet>\n);\n\nWindowTitle.propTypes = {\n  title: PropTypes.string.isRequired\n}\n\nexport default WindowTitle;\n","import moment from 'moment';\n\nconst dateRange = [\n  moment().subtract(14,'d').format('YYYY-MM-DD'),\n  moment().format('YYYY-MM-DD'),\n];\n\nexport default [\n  {\n    title: \"Page Views last 14 days\",\n    type: \"line\",\n    query: {\n      \"measures\": [\n        \"Events.pageView\"\n      ],\n      \"timeDimensions\": [\n        {\n          \"dimension\": \"Events.time\",\n          \"dateRange\": dateRange,\n          \"granularity\": \"day\"\n        }\n      ]\n    }\n  },\n  {\n    title: \"Top 5 Events\",\n    type: \"pie\",\n    query: {\n      \"measures\": [\n        \"Events.anyEvent\"\n      ],\n      \"dimensions\": [\n        \"Events.event\"\n      ],\n      limit: 5\n    }\n  },\n  {\n    title: \"Events list\",\n    type: \"table\",\n    query: {\n      \"measures\": [\n        \"Events.anyEvent\",\n        \"Events.anyEventUniq\"\n      ],\n      \"dimensions\": [\n        \"Events.event\"\n      ]\n    }\n  },\n  {\n    title: \"Page Views by Page\",\n    type: \"bar\",\n    query: {\n      \"measures\": [\n        \"Events.pageView\"\n      ],\n      dimensions: [\n        \"Events.pageTitle\"\n      ],\n      \"timeDimensions\": [\n        {\n          \"dimension\": \"Events.time\",\n          \"dateRange\": dateRange,\n          \"granularity\": \"day\"\n        }\n      ]\n    }\n  }\n]\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Chart from '../components/Charts';\nimport WindowTitle from '../components/WindowTitle';\nimport queries from './queriesList';\n\nconst styles = theme => ({\n  cardContainerStyles: {\n    display: \"grid\",\n    gridColumnGap: \"24px\",\n    gridTemplateColumns: \"1fr 1fr\",\n    rowGap: \"24px\"\n  }\n});\n\nconst DashboardPage = ({ classes }) => (\n  <>\n    <WindowTitle title=\"Dashboard\" />\n    <div className={classes.cardContainerStyles}>\n      {\n        queries.map((query, index) => <Chart {...query} key={index} />)\n      }\n    </div>\n  </>\n);\n\nDashboardPage.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(DashboardPage);\n","import React from 'react';\nimport Select from 'react-select';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport { default as MaterialSelect } from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\n\n// Every event could either total or unique. Total events have plain key, ex.: 'Events.anyEvent'\n// Unique events have the same key, except with postfix `Uniq`, ex: 'Events.anyEventUniq'\nconst options = [\n  { value: 'Events.anyEvent', label: 'Any Event', default: true },\n  { value: 'Events.pageView', label: 'Page View' },\n  { value: 'Events.Navigation__Menu_Closed', label: 'Navigation: Menu Closed' },\n  { value: 'Events.Navigation__Menu_Opened', label: 'Navigation: Menu Opened' },\n  { value: 'Events.Reports__Event_Selected', label: 'Reports: Event Selected' },\n  { value: 'Events.Reports__Property_Selected', label: 'Reports: Property Selected' },\n  { value: 'Events.Reports__Date_Range_Changed', label: 'Reports: Date Range Changed' },\n  { value: 'Events.Reports__Visualization_Changed', label: 'Reports: Visualization Changed' }\n]\nexport const defaultEvent = options.find(i => i.default)\n\nconst withEventType = (value, eventType) => {\n  if (eventType === 'total') {\n    return value;\n  } else {\n    return `${value}Uniq`;\n  }\n}\nconst handleChange = (value, eventType, id, onChangeProp) => {\n  onChangeProp({ type: \"REMOVE_MEASURE\", id })\n  onChangeProp({\n    type: 'ADD_MEASURE',\n    value: withEventType(value, eventType),\n    id\n  })\n  window.snowplow('trackStructEvent', 'Reports', 'Event Selected');\n}\n\nconst customStyles = {\n  container: (provided) => ({\n    ...provided,\n    width: 300\n  })\n}\n\nconst styles = {\n  container: {\n    position: \"relative\",\n  },\n  clearButton: {\n    position: \"absolute\",\n    right: -10,\n    top: -10\n  }\n};\n\nclass EventsSelect extends React.Component {\n  state = {\n    eventType: 'total'\n  }\n\n  render() {\n    const { onChange, defaultValue, id, clearable, classes } = this.props;\n\n    return (\n      <div className={classes.container}>\n        <MaterialSelect\n          disableUnderline\n          value={this.state.eventType}\n          onChange={(event) => {\n            const newType = event.target.value\n            if (newType !== this.state.eventType) {\n              this.setState({ eventType: event.target.value })\n              const value = this.refs.select.state.value.value\n              handleChange(value, newType, id, onChange)\n            }\n          }}\n        >\n          <MenuItem value=\"total\">Total</MenuItem>\n          <MenuItem value=\"unique\">Unique</MenuItem>\n        </MaterialSelect>\n        { clearable &&\n          <IconButton\n            className={classes.clearButton}\n            onClick={() => {\n              onChange({ type: 'REMOVE_MEASURE', id })\n              onChange({ type: 'REMOVE_EVENT_SELECT', id })\n            }}\n            aria-label=\"Delete\"\n          >\n            <ClearIcon />\n          </IconButton>\n        }\n        <Select\n          ref=\"select\"\n          defaultValue={defaultValue}\n          styles={customStyles}\n          options={options}\n          onChange={(value, action) => handleChange(value.value, this.state.eventType, id, onChange)}\n        />\n      </div>\n    )\n  }\n}\n\nexport default withStyles(styles)(EventsSelect);\n","import React from 'react';\nimport Select from 'react-select';\n\nconst options = [\n  {\n    label: \"Event properties\",\n    options: [\n      { value: 'Events.pageTitle', label: 'Page Title' },\n      { value: 'Events.referrer', label: 'Referrer' }\n    ]\n  },\n  {\n    label: \"User properties\",\n    options: [\n      { value: 'Users.id', label: 'User ID' },\n      { value: 'Users.lastSeen', label: 'Last Seen' }\n    ]\n  }\n]\n\nconst customStyles = {\n  container: (provided) => ({\n    ...provided,\n    width: 300\n  })\n}\n\nconst handleChange = (value, action, onChangeProp) => {\n  onChangeProp({ type: \"REMOVE_DIMENSION\" })\n  if (value) {\n    onChangeProp({\n      type: 'ADD_DIMENSION',\n      value: value.value\n    })\n    window.snowplow('trackStructEvent', 'Reports', 'Property Selected');\n  }\n}\n\nconst DimensionSelect = ({ onChange }) => (\n  <>\n    <Select\n      isClearable\n      styles={customStyles}\n      options={options}\n      onChange={(value, action) => handleChange(value, action, onChange)}\n    />\n  </>\n)\n\nexport default DimensionSelect;\n","import React from 'react';\n\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\nimport ToggleButton from '@material-ui/lab/ToggleButton';\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport PieChartIcon from '@material-ui/icons/PieChart';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = ({\n  toggleContainer: {\n    height: 56,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n  },\n});\n\nconst VisualizationToggle = ({ value, onChange, classes }) => (\n   <div className={classes.toggleContainer}>\n     <ToggleButtonGroup\n        exclusive\n        value={value}\n        onChange={((e, value) => {\n          if (value) {\n            onChange({ type: 'CHANGE_VISUALIZATION_TYPE', value: value})\n            window.snowplow('trackStructEvent', 'Reports', 'Visualization Changed');\n          }\n        })}\n      >\n       <ToggleButton value=\"line\">\n         <ShowChartIcon />\n       </ToggleButton>\n       <ToggleButton value=\"bar\">\n         <BarChartIcon />\n       </ToggleButton>\n       <ToggleButton value=\"pie\">\n         <PieChartIcon />\n       </ToggleButton>\n     </ToggleButtonGroup>\n   </div>\n)\n\nexport default withStyles(styles)(VisualizationToggle);\n","import React from 'react';\n\nimport Select from 'react-select';\n\nconst options = [\n  { value: 'hour', label: 'Hourly' },\n  { value: 'day', label: 'Daily', default: true },\n  { value: 'week', label: 'Weekly' },\n  { value: 'month', label: 'Montly' },\n]\nexport const defaultGranularity = options.find(i => i.default)\n\nconst customStyles = {\n  container: (provided) => ({\n    ...provided,\n    width: 120\n  })\n}\n\nconst GranularitySelect = ({ defaultValue, onChange }) => (\n  <>\n    <Select\n      defaultValue={defaultValue}\n      styles={customStyles}\n      options={options}\n      onChange={(value, action) => (\n        onChange({ type: 'CHANGE_GRANULARITY', value: value.value })\n      )}\n    />\n  </>\n)\n\nexport default GranularitySelect;\n","import React from 'react';\nimport Select from 'react-select';\nimport moment from 'moment';\n\nconst generateDateRange = (start, end) => ([\n  moment().subtract(...start).format('YYYY-MM-DD'),\n  moment().subtract(...end).format('YYYY-MM-DD')\n])\n\nconst options = [\n  { value: generateDateRange([0, 'd'], [0, 'd']), label: 'Current day' },\n  { value: generateDateRange([1, 'd'], [1, 'd']), label: 'Previous day' },\n  { value: generateDateRange([7, 'd'], [0, 'd']), label: 'Last 7 days' },\n  { value: generateDateRange([14, 'd'], [0, 'd']), label: 'Last 14 days', default: true },\n  { value: generateDateRange([30, 'd'], [0, 'd']), label: 'Last 30 days' },\n  { value: generateDateRange([12, 'months'], [0, 'd']), label: 'Last 12 months' }\n]\n\nexport const defaultDateRange = options.find(i => i.default);\n\nconst customStyles = {\n  container: (provided) => ({\n    ...provided,\n    width: 200\n  })\n}\n\nconst DateRangeSelect = ({ defaultValue, onChange }) => (\n  <>\n    <Select\n      styles={customStyles}\n      defaultValue={defaultValue}\n      options={options}\n      onChange={(value, action) => {\n        onChange({\n          type: 'CHANGE_DATERANGE',\n          value: value.value\n        })\n        window.snowplow('trackStructEvent', 'Reports', 'Date Range Changed');\n      }}\n    />\n  </>\n)\n\nexport default DateRangeSelect;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\n\nconst SaveButton = ({ disabled })  => (\n  <Button\n    // because of Github corner\n    style={{ zIndex: 1203 }}\n    variant=\"contained\"\n    color=\"primary\"\n    disabled={disabled}\n    onClick={() => {\n      window.snowplow('trackStructEvent', 'Reports', 'Save Button Clicked');\n      alert(\"Saving reports in demo mode is not available\")\n    }}\n  >\n    Save\n  </Button>\n)\n\nexport default SaveButton;\n","import React, { Component } from 'react';\n\nconst generateEventSelectId = (eventSelects) => Math.max( ...eventSelects ) + 1\nconst resolveGranularity = (visualizationType, state) => {\n  // Reset granularity if pie chart selected,\n  // but memorized previousily selected\n  if (visualizationType === 'pie') {\n    return { granularity: null, memorizedGranularity: state.granularity }\n  // For the rest of the charts use currently selected granularity,\n  // or in case it is null the memorized one\n  } else {\n    return {\n      granularity: (state.granularity || state.memorizedGranularity),\n      memorizedGranularity: null\n    }\n  }\n}\n\nclass Store {\n  constructor(initialData) {\n    this.data = initialData\n  }\n\n  change(action) {\n    const newData = this.reducer(this.data, action);\n    this.data = newData;\n  }\n\n  reducer(state, action) {\n    switch (action.type) {\n      case 'REMOVE_EVENT_SELECT':\n        const eventSelectsCloned = state.eventSelects.filter(i => i !== action.id)\n        return {\n          ...state,\n          eventSelects: eventSelectsCloned\n        }\n      case 'ADD_EVENT_SELECT':\n        const eventSelects = [...state.eventSelects]\n        eventSelects.push(generateEventSelectId(eventSelects))\n        return {\n          ...state,\n          eventSelects\n        }\n      case 'CHANGE_DATERANGE':\n        return {\n          ...state,\n          dateRange: action.value\n        }\n      case 'CHANGE_GRANULARITY':\n        return {\n          ...state,\n          granularity: action.value\n        }\n      case 'CHANGE_VISUALIZATION_TYPE':\n        const {\n          granularity,\n          memorizedGranularity\n        } = resolveGranularity(action.value, state)\n        return {\n          ...state,\n          granularity,\n          memorizedGranularity,\n          visualizationType: action.value\n        }\n      case 'ADD_DIMENSION':\n        return {\n          ...state,\n          dimensions: [action.value]\n        }\n      case 'REMOVE_DIMENSION':\n        return {\n          ...state,\n          dimensions: []\n        }\n      case 'ADD_MEASURE':\n        const measures = {...state.measures}\n        measures[action.id] = action.value\n        return {\n          ...state,\n          measures\n        }\n      case 'REMOVE_MEASURE':\n        const newMeasures = {...state.measures}\n        delete newMeasures[action.id]\n        return {\n          ...state,\n          measures: newMeasures\n        }\n      default:\n        return state\n    }\n  }\n}\n\n\nconst withQueryBuilder = (initialData, WrappedComponent) =>\n  class withQueryBuilderComponent extends Component {\n    constructor(props) {\n      super(props)\n      this.store = new Store(initialData)\n    }\n\n    onChange(args) {\n      this.store.change(args)\n      this.forceUpdate();\n    }\n\n    render() {\n      return <WrappedComponent {...this.store.data} onChange={this.onChange.bind(this)} />\n    }\n  }\n\nexport default withQueryBuilder;\n","import React, { Component } from 'react';\n\nimport Grid from '@material-ui/core/Grid';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\n\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport EventsSelect, { defaultEvent } from './EventsSelect';\nimport DimensionSelect from './DimensionSelect';\nimport VisualizationToggle from './VisualizationToggle';\nimport GranularitySelect, { defaultGranularity } from './GranularitySelect';\nimport DateRangeSelect, { defaultDateRange } from '../DateRangeSelect';\nimport SaveButton from './SaveButton';\nimport withQueryBuilder from './withQueryBuilder';\n\nimport Chart from '../Charts';\n\nconst styles = {\n  dimensionSelectContainer: {\n    display: \"inline-flex\",\n    marginLeft: \"20px\"\n  },\n  granularitySelectContainer: {\n    paddingTop: 10,\n    marginRight: 20\n  }\n};\n\nconst defaultVisualizationType = 'line';\nconst DEFAULT_EVENT_SELECT_ID = 1;\n\nconst buildQuery = ({ dateRange, granularity, measures, dimensions, visualizationType }) => ({\n  type: visualizationType,\n  query: {\n    measures: Object.values(measures),\n    dimensions,\n    timeDimensions: [{\n      dimension: 'Events.time',\n      dateRange,\n      granularity\n    }]\n  }\n})\n\nclass QueryBuilder extends Component {\n  get query() {\n    return buildQuery(this.props);\n  }\n\n  get canAddEventsSelects() {\n    return this.props.eventSelects.length < 3;\n  }\n\n  get canRemoveEventsSelects() {\n    return this.props.eventSelects.length > 1;\n  }\n\n  render() {\n    const {\n      classes,\n      onChange,\n      eventSelects,\n      granularity,\n      visualizationType\n    } = this.props;\n\n    return (\n      <Grid container spacing={24}>\n        <Grid item xs={10}>\n          <Grid container alignItems='flex-end' spacing={16}>\n            {eventSelects.map(i => (\n              <Grid key={i} item>\n                <EventsSelect id={i}\n                  defaultValue={(i === DEFAULT_EVENT_SELECT_ID && defaultEvent)}\n                  onChange={onChange}\n                  clearable={this.canRemoveEventsSelects}\n                />\n              </Grid>\n            ))}\n            { this.canAddEventsSelects &&\n              <Grid item>\n                <Fab onClick={() => onChange({ type: \"ADD_EVENT_SELECT\" }) } size=\"small\" aria-label=\"Add\" className={classes.fab}>\n                  <AddIcon />\n                </Fab>\n              </Grid>\n            }\n          </Grid>\n        </Grid>\n        <Grid item xs={2}>\n          <Grid container justify=\"flex-end\">\n            <SaveButton  />\n          </Grid>\n        </Grid>\n          <Grid item xs={12}>\n            <Button variant=\"contained\" color=\"secondary\" disabled>\n              By\n            </Button>\n            <div className={classes.dimensionSelectContainer}>\n              <DimensionSelect onChange={onChange} />\n            </div>\n          </Grid>\n          <Grid item xs={12}>\n            <Grid container justify='flex-end'>\n              <Grid item>\n                <div className={classes.granularitySelectContainer}>\n                  <DateRangeSelect onChange={onChange} defaultValue={defaultDateRange} />\n                </div>\n              </Grid>\n              <Grid item>\n                {granularity &&\n                  <div className={classes.granularitySelectContainer}>\n                    <GranularitySelect\n                      defaultValue={defaultGranularity}\n                      onChange={onChange} />\n                  </div>\n                }\n              </Grid>\n              <Grid item>\n                <div>\n                  <VisualizationToggle\n                    value={visualizationType}\n                    onChange={onChange}\n                  />\n                </div>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}>\n            <Chart {...this.query} />\n          </Grid>\n      </Grid>\n    )\n  }\n}\n\nconst initialData = {\n  eventSelects: [DEFAULT_EVENT_SELECT_ID],\n  measures: { [DEFAULT_EVENT_SELECT_ID]: defaultEvent.value },\n  dimensions: [],\n  dateRange: defaultDateRange.value,\n  granularity: defaultGranularity.value,\n  visualizationType: defaultVisualizationType\n}\n\nexport default withQueryBuilder(initialData, withStyles(styles)(QueryBuilder));\n","import React from 'react';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport WindowTitle from '../components/WindowTitle';\nimport QueryBuilder from '../components/QueryBuilder';\n\nconst styles = ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  formControl: {\n    minWidth: 120,\n  }\n});\n\nconst ReportsPage = ({ classes }) => (\n  <>\n    <WindowTitle title=\"Reports\" />\n    <QueryBuilder />\n  </>\n);\n\nexport default withStyles(styles)(ReportsPage);\n","import React from 'react';\nimport Chart from '../components/Charts';\nimport { Rectangle } from 'recharts';\n\nconst getPath = (x, y, width, height) => {\n  const baseY = y + (height - 100);\n  const baseX = x + (width + 5);\n  const baseWidth = 50;\n  const arrowWidth = 10;\n  return `M${baseX},${baseY}\n          L${baseX + baseWidth} ${baseY}\n          L${baseX + arrowWidth + baseWidth} ${baseY + 13}\n          L${baseX + baseWidth} ${baseY + 13*2}\n          L${baseX} ${baseY + 13*2}\n          Z`;\n};\n\n\nconst BarwithSteps = (props) => {\n  const {  x, y, width, height, index, resultSet } = props;\n  const data = resultSet.chartPivot()\n  const lastIndex = data.length - 1;\n  const showStep = index !== lastIndex;\n  let conversion = null\n  if (showStep) {\n    conversion = Math.round(100 * Object.values(data[index + 1])[2]/Object.values(data[index])[2]);\n  }\n  const baseY = y + (height - 100);\n  const baseX = x + (width + 5);\n\n  return (\n    <g>\n      <Rectangle {...props} />\n      {showStep &&\n        ([\n          <path d={getPath(x, y, width, height)} stroke=\"none\" fill=\"#50556C\"/>,\n          <text x={baseX + 25} y={baseY + 15} fill=\"#fff\" textAnchor=\"middle\" dominantBaseline=\"middle\">\n            {conversion}%\n          </text>\n        ])\n      }\n    </g>\n  );\n}\n\nconst Funnel = ({ query, dateRange }) => (\n  <Chart\n    type=\"bar\"\n    options={{\n      label: { position: 'top' },\n      margin: { top: 20 },\n      shape: <BarwithSteps />\n    }}\n    query={query}\n  />\n)\n\nexport default Funnel;\n","import cubejs from '@cubejs-client/core';\n\nexport default cubejs(process.env.REACT_APP_CUBEJS_API_KEY,\n  { apiUrl: process.env.REACT_APP_CUBEJS_API_URL }\n);\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\n\nimport { QueryRenderer } from '@cubejs-client/react';\nimport cubejsClient from '../cubejsClient';\n\nconst calculateCompletionRate = (resultSet, id) => {\n  const data = resultSet.rawData()\n  const last = Number(data[data.length - 1][`${id}.conversions`])\n  if (last === 0) { return 0 }\n\n  const first = Number(data[0][`${id}.conversions`])\n\n  return Math.round(100 * last/first);\n}\n\nconst CompletionRate = ({ query, id }) => (\n  <>\n    <QueryRenderer\n      query={query}\n      cubejsApi={cubejsClient}\n      render={({ resultSet }) => {\n        if (resultSet) {\n          return (\n            <>\n              <Typography variant=\"h6\">\n                Completion Rate: { calculateCompletionRate(resultSet, id) }%\n              </Typography>\n              <Typography variant=\"subtitle1\">\n                30 days to complete funnel\n              </Typography>\n            </>\n          )\n        }\n        return null\n      }}\n    />\n  </>\n)\n\nexport default CompletionRate\n","import React, { Component } from 'react';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport EditIcon from '@material-ui/icons/Edit';\nimport AddIcon from '@material-ui/icons/Add';\nimport Select from 'react-select';\n\nimport Funnel from './Funnel';\nimport CompletionRate from './CompletionRate';\nimport DateRangeSelect, { defaultDateRange } from '../components/DateRangeSelect';\n\nconst options = [\n  { value: 'ReportsFunnel', label: 'Reports' },\n  { value: 'FunnelsUsageFunnel', label: 'Funnels Usage' },\n  { value: 'FunnelsEditFunnel', label: 'Funnels Editing' }\n]\n\nconst styles = theme => ({\n  button: {\n    marginRight: theme.spacing.unit,\n    marginLeft: theme.spacing.unit\n  },\n  icon: {\n    marginRight: theme.spacing.unit,\n  }\n});\n\nclass FunnelsExplorer extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      funnelId: null,\n      dateRange: defaultDateRange.value\n    }\n  }\n\n  get query() {\n    return {\n      measures: [`${this.state.funnelId}.conversions`],\n      dimensions: [`${this.state.funnelId}.step`],\n      timeDimensions: [\n        {\n          dimension: `${this.state.funnelId}.time`,\n          dateRange: this.state.dateRange\n        }\n      ]\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <>\n      <Grid container spacing={24}>\n        <Grid item xs={3}>\n          <Select\n            options={options}\n            placeholder=\"Select a funnel\"\n            onChange={(value) => {\n              window.snowplow('trackStructEvent', 'Funnels', 'Funnel Selected');\n              this.setState({funnelId: value.value})\n            }}\n          />\n        </Grid>\n        <Grid item xs={3}>\n          <Button\n            className={classes.button}\n            variant=\"contained\"\n            disabled={!this.state.funnelId}\n            onClick={() => {\n              window.snowplow('trackStructEvent', 'Funnels', 'Edit Button Clicked');\n              alert(\"Editing funnels in demo mode isn't available\")\n            }}\n          >\n            <EditIcon className={classes.icon} />\n            Edit\n          </Button>\n          <Button\n            variant=\"contained\"\n            className={classes.button}\n            onClick={() => {\n              window.snowplow('trackStructEvent', 'Funnels', 'New Button Clicked');\n              alert(\"Adding new funnels in demo mode isn't available\")\n            }}\n          >\n            <AddIcon className={classes.icon} />\n            New\n          </Button>\n        </Grid>\n        { this.state.funnelId &&\n          <>\n            <Grid item xs={12}>\n                <Grid container>\n                  <Grid item xs={6}>\n                    <CompletionRate query={this.query} id={this.state.funnelId} />\n                  </Grid>\n                  <Grid item xs={6}>\n                    <Grid container justify=\"flex-end\">\n                      <DateRangeSelect\n                        onChange={({ value }) => this.setState({ dateRange: value}) }\n                        defaultValue={defaultDateRange}\n                      />\n                    </Grid>\n                  </Grid>\n                </Grid>\n            </Grid>\n            <Grid item xs={12}>\n              <Funnel\n                dateRange={this.state.dateRange}\n                query={this.query}\n              />\n            </Grid>\n          </>\n        }\n      </Grid>\n      </>\n    )\n  }\n}\n\nexport default withStyles(styles)(FunnelsExplorer);\n","import React from 'react';\n\nimport WindowTitle from '../components/WindowTitle';\nimport FunnelsExplorer from './FunnelsExplorer';\n\n\nconst FunnelsPage = ({ }) => (\n  <>\n    <WindowTitle title=\"Funnels\" />\n    <FunnelsExplorer />\n  </>\n);\n\nexport default FunnelsPage;\n","import React from 'react';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport WindowTitle from '../components/WindowTitle';\n\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardMedia from '@material-ui/core/CardMedia';\n\nconst styles = theme => ({\n  cardContainerStyles: {\n    display: \"grid\",\n    gridColumnGap: \"24px\",\n    gridTemplateColumns: \"1fr 1fr\",\n    rowGap: \"24px\"\n  }\n});\n\nconst AboutPage = ({ classes }) => (\n  <>\n    <WindowTitle title=\"About\" />\n    <div className={classes.cardContainerStyles}>\n      <Card>\n        <CardHeader title=\"Architecture\" />\n        <CardMedia component=\"img\" image=\"./schema.png\" />\n      </Card>\n    </div>\n  </>\n);\n\nexport default withStyles(styles)(AboutPage);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router, Switch } from \"react-router-dom\";\nimport createHistory from 'history/createBrowserHistory'\nimport SectionRoute from './auth/components/SectionRoute';\nimport DashboardPage from './dashboard';\nimport ReportsPage from './reports';\nimport FunnelsPage from './funnels';\nimport AboutPage from './about';\nimport * as serviceWorker from './serviceWorker';\n\nconst history = createHistory()\nhistory.listen((location, action) => {\n  // Use setTimeout due to react-helmet issue\n  // https://github.com/nfl/react-helmet/issues/189\n  setTimeout(() => {\n    window.snowplow('trackPageView');\n  }, 0);\n});\n\nReactDOM.render(\n  <Router history={history} basename=\"/cubejs/event-analytics\">\n    <Switch>\n      <SectionRoute\n        exact\n        path=\"/\"\n        title=\"Dashboard\"\n        component={DashboardPage}\n      />\n      <SectionRoute\n        path=\"/reports\"\n        title=\"Reports\"\n        component={ReportsPage}\n      />\n      <SectionRoute\n        path=\"/funnels\"\n        title=\"Funnels\"\n        component={FunnelsPage}\n      />\n      <SectionRoute\n        path=\"/about\"\n        title=\"About\"\n        component={AboutPage}\n      />\n    </Switch>\n  </Router>\n  ,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
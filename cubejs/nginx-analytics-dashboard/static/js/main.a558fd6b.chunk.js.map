{"version":3,"sources":["Chart.js","App.js","index.js"],"names":["Chart","_ref","cubejsApi","title","query","render","react_default","a","createElement","Card","CardBody","CardTitle","tag","CardText","cubejs_react","Object","objectSpread","timeDimensions","dimension","dateRange","_ref2","resultSet","Spinner","style","width","height","cubejs","process","apiUrl","percentFormatter","item","numeral","format","dateFormatter","moment","COLORS","renderSingleValue","key","postFix","arguments","length","undefined","chartPivot","App","Container","fluid","Row","Col","sm","src_Chart","measures","granularity","es6","data","strokeDasharray","dataKey","tickFormatter","domain","labelFormatter","type","name","stroke","fill","dimensions","filters","operator","values","label","nameKey","map","entry","index","GithubCorner_default","size","href","Component","rootElement","document","getElementById","ReactDOM","src_App"],"mappings":"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","file":"static/js/main.a558fd6b.chunk.js","sourcesContent":["import React from \"react\";\nimport { Card, CardTitle, CardBody, CardText, Spinner } from \"reactstrap\";\nimport { QueryRenderer } from \"@cubejs-client/react\";\n\nconst Chart = ({ cubejsApi, title, query, render }) => (\n  <Card>\n    <CardBody>\n      <CardTitle tag=\"h5\">{title}</CardTitle>\n      <CardText>\n        <QueryRenderer\n          query={{\n            timeDimensions: [\n              {\n                dimension: `Logs.createdAt`,\n                dateRange: [\"2019-04-01\", \"2019-04-09\"]\n              }\n            ],\n            ...query\n          }}\n          cubejsApi={cubejsApi}\n          render={({ resultSet }) => {\n            if (!resultSet) {\n              return <Spinner style={{ width: \"2rem\", height: \"2rem\" }} />;\n            }\n\n            return render(resultSet);\n          }}\n        />\n      </CardText>\n    </CardBody>\n  </Card>\n);\n\nexport default Chart;\n","import React, { Component } from \"react\";\nimport { Container, Row, Col } from \"reactstrap\";\nimport {\n  LineChart,\n  CartesianGrid,\n  PieChart,\n  Pie,\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  Legend,\n  Cell\n} from \"recharts\";\nimport GithubCorner from 'react-github-corner';\nimport moment from \"moment\";\nimport numeral from \"numeral\";\nimport cubejs from \"@cubejs-client/core\";\nimport Chart from \"./Chart.js\";\n\n\nconst cubejsApi = cubejs(process.env.REACT_APP_CUBEJS_TOKEN, {\n  apiUrl: process.env.REACT_APP_API_URL\n});\nconst numberFormatter = item => numeral(item).format(\"0,0\");\nconst percentFormatter = item => numeral(item / 100.0).format(\"0%\");\nconst dateFormatter = item => moment(item).format(\"MMM DD\");\n\nconst COLORS = [\n  \"#7DB3FF\",\n  \"#49457B\",\n  \"#FF7C78\",\n  \"#FED3D0\",\n  \"#6F76D9\",\n  \"#9ADFB4\",\n  \"#2E7987\"\n];\n\nconst renderSingleValue = (resultSet, key, postFix = \"\") => (\n  <h1 height={300}>\n    {numberFormatter(resultSet.chartPivot()[0][key])}\n    {postFix}\n  </h1>\n);\n\nclass App extends Component {\n  render() {\n    return (\n      <Container fluid>\n        <Row>\n          <Col sm=\"4\">\n            <Chart\n              cubejsApi={cubejsApi}\n              title=\"Total Requests\"\n              query={{ measures: [\"Logs.count\"] }}\n              render={resultSet => renderSingleValue(resultSet, \"Logs.count\")}\n            />\n          </Col>\n          <Col sm=\"4\">\n            <Chart\n              cubejsApi={cubejsApi}\n              title=\"Total Errors\"\n              query={{ measures: [\"Logs.errorCount\"] }}\n              render={resultSet =>\n                renderSingleValue(resultSet, \"Logs.errorCount\")\n              }\n            />\n          </Col>\n          <Col sm=\"4\">\n            <Chart\n              cubejsApi={cubejsApi}\n              title=\"Error Rate\"\n              query={{\n                measures: [\"Logs.errorRate\"]\n              }}\n              render={resultSet =>\n                renderSingleValue(resultSet, \"Logs.errorRate\", \"%\")\n              }\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col sm=\"6\">\n            <Chart\n              cubejsApi={cubejsApi}\n              title=\"Error Rate By Day\"\n              query={{\n                measures: [\"Logs.errorRate\"],\n                timeDimensions: [\n                  {\n                    dimension: \"Logs.createdAt\",\n                    dateRange: [\"2019-04-01\", \"2019-04-09\"],\n                    granularity: \"day\"\n                  }\n                ]\n              }}\n              render={resultSet => (\n                <ResponsiveContainer width=\"100%\" height={300}>\n                  <LineChart data={resultSet.chartPivot()}>\n                    <CartesianGrid strokeDasharray=\"5 5\" />\n                    <XAxis dataKey=\"x\" tickFormatter={dateFormatter} />\n                    <YAxis\n                      domain={[\"dataMin - 1\", \"dataMax + 1\"]}\n                      tickFormatter={percentFormatter}\n                    />\n                    <Tooltip labelFormatter={dateFormatter} />\n                    <Line\n                      type=\"monotone\"\n                      dataKey=\"Logs.errorRate\"\n                      name=\"Error Rate\"\n                      stroke=\"rgb(106, 110, 229)\"\n                      fill=\"rgba(106, 110, 229, .16)\"\n                    />\n                  </LineChart>\n                </ResponsiveContainer>\n              )}\n            />\n          </Col>\n          <Col sm=\"6\">\n            <Chart\n              cubejsApi={cubejsApi}\n              title=\"Errors by Status\"\n              query={{\n                measures: [\"Logs.count\"],\n                dimensions: [\"Logs.status\"],\n                filters: [\n                  {\n                    dimension: `Logs.isError`,\n                    operator: `equals`,\n                    values: [\"Yes\"]\n                  }\n                ]\n              }}\n              render={resultSet => {\n                return (\n                  <ResponsiveContainer width=\"100%\" height={300}>\n                    <PieChart>\n                      <Pie\n                        label\n                        nameKey=\"x\"\n                        dataKey=\"Logs.count\"\n                        data={resultSet.chartPivot()}\n                      >\n                        {resultSet.chartPivot().map((entry, index) => (\n                          <Cell fill={COLORS[index % COLORS.length]} />\n                        ))}\n                      </Pie>\n                      <Legend />\n                      <Tooltip />\n                    </PieChart>\n                  </ResponsiveContainer>\n                );\n              }}\n            />\n          </Col>\n        </Row>\n        <GithubCorner size={120} href=\"https://github.com/statsbotco/cube.js\" />\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\nimport App from \"./App.js\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}